@if (user$ | async; as user) {
<!-- Menu level 1 -->
@if(user.name) {
<button mat-button routerLink="/feature/budget-variance" data-testid="budget-variance">Utfall</button>
} @if(user.isAdmin) {
<button mat-button routerLink="/feature/actual-item" data-testid="admin">Transaktoner</button>
<button mat-button [matMenuTriggerFor]="budget" data-testid="admin">
  <span>Budget</span>
</button>
} @if(user.name) {
<button mat-button (click)="logout()" data-testid="logout">
  <span>Logga ut</span>
</button>
}
<!-- Menu level 2 -->
<mat-menu #budget="matMenu" [overlapTrigger]="false">
  <button mat-menu-item routerLink="/feature/budget-item">Hantera budget</button>
  <button mat-menu-item routerLink="/feature/create-budget">Skapa budget</button>
  <button mat-menu-item [matMenuTriggerFor]="year">År</button>
  <button mat-menu-item [matMenuTriggerFor]="version">Version</button>
  <button mat-menu-item routerLink="/feature/category">Kategori</button>
  <button mat-menu-item routerLink="/feature/unit">Enheter</button>
  <button mat-menu-item routerLink="/feature/trip">Resor</button>
</mat-menu>
<!-- Menu level 3 -->
<mat-menu #year="matMenu">
  <button mat-menu-item routerLink="/feature/create-budget-year">Skapa nytt budgetår</button>
  <button mat-menu-item routerLink="/feature/delete-budget-year">Ta bort budgetår</button>
</mat-menu>

<mat-menu #version="matMenu">
  <button mat-menu-item routerLink="/feature/create-version">Skapa ny version</button>
  <button mat-menu-item routerLink="/feature/modify-version">Ändra/Ta bort version</button>
</mat-menu>
}
